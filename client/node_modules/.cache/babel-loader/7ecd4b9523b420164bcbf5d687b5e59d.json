{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\google-docs-clone\\\\client\\\\src\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport Buffer from 'buffer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const [socket, setSocket] = useState();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    const s = io(\"http://localhost:3001\");\n    setSocket(s);\n    return () => {\n      s.disconnect();\n    };\n  }, []);\n  useEffect(() => {\n    if (socket == null) return;\n    socket.emit(\"get-dashboard-data\");\n    socket.on(\"load-all\", data => {\n      setData(data);\n    });\n  }, [socket]);\n\n  function arrayBufferToBase64() {\n    let binary = '';\n    let bytes = new Uint8Array(data[0].img);\n    let len = bytes.byteLength;\n\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n\n    return window.btoa(binary);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: data[0] !== undefined && /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: 200,\n          height: 200,\n          resizeMode: 'cover',\n          backgroundColor: 'red'\n        },\n        source: {\n          uri: 'data:image/jpeg;base64,' + arrayBufferToBase64 //data.data in your case\n\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 43\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Dashboard, \"59/7znJiIC1MlJQf28Ld26ERDws=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["D:/Coding/google-docs-clone/client/src/Dashboard.js"],"names":["React","useState","useEffect","io","Buffer","Dashboard","socket","setSocket","data","setData","s","disconnect","emit","on","arrayBufferToBase64","binary","bytes","Uint8Array","img","len","byteLength","i","String","fromCharCode","window","btoa","undefined","width","height","resizeMode","backgroundColor","uri"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,EAAT,QAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;;AAGA,SAASC,SAAT,GAAqB;AAAA;;AAEjB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,EAApC;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMQ,CAAC,GAAGP,EAAE,CAAC,uBAAD,CAAZ;AACAI,IAAAA,SAAS,CAACG,CAAD,CAAT;AAEA,WAAO,MAAM;AACTA,MAAAA,CAAC,CAACC,UAAF;AACH,KAFD;AAGH,GAPQ,EAON,EAPM,CAAT;AASAT,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAII,MAAM,IAAI,IAAd,EAAoB;AAEpBA,IAAAA,MAAM,CAACM,IAAP,CAAY,oBAAZ;AAEAN,IAAAA,MAAM,CAACO,EAAP,CAAU,UAAV,EAAsBL,IAAI,IAAI;AAC1BC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACH,KAFD;AAIH,GATQ,EASN,CAACF,MAAD,CATM,CAAT;;AAWA,WAASQ,mBAAT,GAA+B;AAC3B,QAAIC,MAAM,GAAG,EAAb;AACA,QAAIC,KAAK,GAAG,IAAIC,UAAJ,CAAeT,IAAI,CAAC,CAAD,CAAJ,CAAQU,GAAvB,CAAZ;AACA,QAAIC,GAAG,GAAGH,KAAK,CAACI,UAAhB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAApB,EAAyBE,CAAC,EAA1B,EAA8B;AAC1BN,MAAAA,MAAM,IAAIO,MAAM,CAACC,YAAP,CAAoBP,KAAK,CAACK,CAAD,CAAzB,CAAV;AACH;;AAED,WAAOG,MAAM,CAACC,IAAP,CAAYV,MAAZ,CAAP;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAG,qBAAjB;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA,gBACKP,IAAI,CAAC,CAAD,CAAJ,KAAYkB,SAAZ,iBAAyB;AAC1B,QAAA,KAAK,EAAE;AACLC,UAAAA,KAAK,EAAE,GADF;AAELC,UAAAA,MAAM,EAAE,GAFH;AAGLC,UAAAA,UAAU,EAAE,OAHP;AAILC,UAAAA,eAAe,EAAE;AAJZ,SADmB;AAO1B,QAAA,MAAM,EAAE;AACNC,UAAAA,GAAG,EACD,4BACAjB,mBAHI,CAGiB;;AAHjB;AAPkB;AAAA;AAAA;AAAA;AAAA;AAD9B;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBH;;GAzDQT,S;;KAAAA,S;AA2DT,eAAeA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport Buffer from 'buffer';\r\n\r\n\r\nfunction Dashboard() {\r\n\r\n    const [socket, setSocket] = useState();\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const s = io(\"http://localhost:3001\");\r\n        setSocket(s);\r\n\r\n        return () => {\r\n            s.disconnect();\r\n        }\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        if (socket == null) return\r\n\r\n        socket.emit(\"get-dashboard-data\");\r\n\r\n        socket.on(\"load-all\", data => {\r\n            setData(data);\r\n        })\r\n\r\n    }, [socket]);\r\n\r\n    function arrayBufferToBase64() {\r\n        let binary = '';\r\n        let bytes = new Uint8Array(data[0].img);\r\n        let len = bytes.byteLength;\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            binary += String.fromCharCode(bytes[i]);\r\n        }\r\n        \r\n        return window.btoa(binary);\r\n    }\r\n\r\n    return (\r\n        <div className = \"dashboard-container\">\r\n            <h1>Dashboard</h1>\r\n            <div>\r\n                {data[0] !== undefined && <img\r\n                style={{\r\n                  width: 200,\r\n                  height: 200,\r\n                  resizeMode: 'cover',\r\n                  backgroundColor: 'red',\r\n                }}\r\n                source={{\r\n                  uri:\r\n                    'data:image/jpeg;base64,' +\r\n                    arrayBufferToBase64, //data.data in your case\r\n                }}\r\n              />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}